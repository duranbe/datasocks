<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="Dashboard Page">
  <meta name="author" content="Benoit Durand">
  <title>Dashboard </title>


  <!-- Custom fonts for this template-->
  <link
    href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
    rel="stylesheet">

  <!-- Custom styles for this template-->
  <link href="bootstrap/css/sb-admin-2.min.css" rel="stylesheet">

  <!-- Bootstrap core JavaScript-->
  <script src="bootstrap/vendor/jquery/jquery.min.js"></script>
  <script src="bootstrap/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

  <!-- Core plugin JavaScript-->
  <script src="bootstrap/vendor/jquery-easing/jquery.easing.min.js"></script>

  <!-- Custom scripts for all pages-->
  <script src="bootstrap/js/sb-admin-2.min.js"></script>


  <!-- Page level plugins -->
  <script src="bootstrap/vendor/chart.js/Chart.min.js"></script>

  <!-- Page level custom scripts -->
  <script src="js/CustomCharts.js"></script>
  <script src="js/getCookie.js"></script>
  <script src="js/SideBarToggle.js"></script>
  <script src="js/LiveColorChange.js"></script>
  <script src="js/CustomCard.js"></script>
  <script src="js/CreateChart.js"></script>




</head>

<body id="page-top">


  <nav class="navbar navbar-expand navbar-light bg-white topbar static-top shadow">


    <a href="">
      <p class='navbar-text navbar-center h1 text-gray-900 mb-2'>Datasocks</p>
    </a>


    <!-- Topbar Navbar -->
    <ul class="navbar-nav ml-auto">


      <div class="topbar-divider d-none d-sm-block"></div>

      <!-- Nav Item - User Information -->
      <li class="nav-item dropdown no-arrow">
        <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-toggle="dropdown"
          aria-haspopup="true" aria-expanded="false">
          <span class="mr-2 d-none d-lg-inline text-gray-600 small">John Smith</span>

        </a>
        <!-- Dropdown - User Information -->
        <div class="dropdown-menu dropdown-menu-right shadow animated--grow-in" aria-labelledby="userDropdown">
          <a class="dropdown-item" href="#">
            Profile
          </a>
          <div class="dropdown-divider"></div>
          <a class="dropdown-item" href="#" data-toggle="modal" data-target="#logoutModal">
            Logout
          </a>
        </div>
      </li>

    </ul>

  </nav>


  <!-- Page Wrapper -->
  <div id="wrapper">

    <!-- Sidebar -->
    <ul class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion" id="accordionSidebar">

      <!-- Sidebar - Brand -->



      <!-- Divider -->
      <hr class="sidebar-divider my-0">

      <!-- Nav Item - Dashboard -->
      <div id="dashboard-nav">

      </div>

      <!-- Divider -->
      <hr class="sidebar-divider">
      <div class="text-center d-none d-md-inline mb-3">
        <button class="btn-circle border-0" style="border-radius:50%;" data-toggle="modal"
          data-target="#AddDashboardModal">+</button>
      </div>
      <hr class="sidebar-divider">
      <div class="text-center d-none d-md-inline">
        <button class="btn-circle border-0" style="border-radius:50%;" onclick="SideBarToggle()"><</button>
      </div>


    </ul>

    <!-- End of Sidebar -->

    <!-- Content Wrapper -->
    <div id="content-wrapper" class="d-flex flex-column">

      <!-- Main Content -->
      <div id="content">


        <!-- Begin Page Content -->
        <div class="container-fluid">

          <!-- Page Heading -->
          <div class="d-sm-flex align-items-center justify-content-between mb-3 mt-3">
            <h1 id="dashboard_name" class="h3  text-gray-800"></h1>
          </div>


          <!-- Content Row  -->

          <div class="row" id="cards-row"></div>
          <div class="row mr-3">

            <div class="row"> <a href="#" class="btn btn-primary  mr-3 ml-3 mb-4 " data-toggle="modal"
                data-target="#AddGraphModal">Add Graph</a> </div>

            <div class="row"> <a href="#" class="btn btn-primary  mr-3 ml-3 mb-4 " data-toggle="modal"
                data-target="#AddCardModal">Add Card</a> </div>

            <div class="row"> <a href="#" class="btn btn-danger  mr-3 ml-3 mb-4 " data-toggle="modal"
                data-target="#DeleteDashboardModal">Delete Dashboard</a></div>


          </div>

          <div class="row" id="graph-row"></div>




          <!-- Content Row -->
          <div class="row">
            <div class="col-xl-4 col-md-6 ">
              <div class="card shadow mb-4">

                <div class="card-header py-3 ">
                  <h6 class="m-0 font-weight-bold text-primary">Buttons</h6>
                </div>
                <div class="card-body" id="btn-group">
                  <a href="#" class="btn btn-primary btn-circle btn-lg float-right" data-toggle="modal"
                    data-target="#AddButtonModal">+</a>
                </div>
              </div>
            </div>

            <div class="col-xl-4 col-md-6 ">
              <div class="card shadow mb-4">

                <div class="card-header py-3 ">
                  <h6 class="m-0 font-weight-bold text-primary">Devices & Keys</h6>
                </div>
                <div class="card-body" id="keys-group">
                  <table class="table" id="key-table">
                    <thead>
                      <tr>
                        <th scope="col">Device Name</th>
                        <th scope="col">Key Prefix</th>
                      </tr>
                    </thead>
                    <tbody id="keys-table-row">



                    </tbody>
                  </table>
                  <a href="#" class="btn btn-primary btn-circle btn-lg float-right" data-toggle="modal"
                    data-target="#AddApiKeyModal">+</a>
                </div>
              </div>
            </div>
          </div>


           <a href="https://townhall.hashnode.com/build-with-linode-hackathon-june-2022">Made for Linode x Hashnode Hackathon</a>

        </div>


      </div>

    </div>
    
  
    <!-- /.container-fluid -->

  </div>
  <!-- End of Main Content -->



  <!-- End of Content Wrapper -->

  </div>
  <!-- End of Page Wrapper -->

  <!-- Scroll to Top Button-->
  <a class="scroll-to-top rounded" href="#page-top">
    ^
  </a>

  <!-- Logout Modal-->
  <div class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Ready to Leave?</h5>
          <button class="close" type="button" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">×</span>
          </button>
        </div>
        <div class="modal-body">Select "Logout" below if you are ready to end your current session.</div>
        <div class="modal-footer">
          <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
          <a class="btn btn-primary" href="../disconnect/">Logout</a>
        </div>
      </div>
    </div>
  </div>



  <div class="modal fade" id="DeleteDashboardModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Dashboard Deletion</h5>
          <button class="close" type="button" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">×</span>
          </button>
        </div>
        <div class="modal-body">Click Delete if you want to delete this dashboard</div>
        <div class="modal-footer">
          <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
          <button class="btn btn-danger" type="button" data-dismiss="modal"
            onclick="DeleteElement('dashboards',dashboardID)">Delete</button>

        </div>
      </div>
    </div>
  </div>


  <!-- Add Button Modal-->


  <div class="modal fade" id="AddDashboardModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Add Button</h5>

          <button class="close" type="button" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">x</span>
          </button>
        </div>

        <div class="modal-body">
          <form method="POST" id='create_dashboard'>

            <div class="form-group">
              <label>Dashboard Name</label>
              <input id="id_dshbd_name" name="dshbd_name" type="text" class="form-control" placeholder="" />
            </div>
            <div class="form-group">
              <label>Dashboard Description</label>
              <input id="id_dshbd_description" name="dshbd_description" type="text" class="form-control"
                placeholder="" />
            </div>

            <div id="create_dashboard_form_error"> </div>
            <button class="btn btn-primary " type="submit">Add Dashboard</button>
            <button class="btn btn-secondary" type="button" data-dismiss="modal"
              id='create_dashboard_close_modal'>Close</button>

          </form>


        </div>

      </div>
    </div>
  </div>

  <div class="modal fade" id="AddButtonModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Add Button</h5>

          <button class="close" type="button" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">x</span>
          </button>
        </div>

        <div class="modal-body">
          <form method="POST" id='create_button'>

            <div class="form-group">
              <label>Action to do</label>
              <input id="id_btn_action" name="btn_action" type="text" class="form-control" placeholder="" />
            </div>
            <div class="form-group">
              <label>Button Title</label>
              <input id="id_btn_title" name="btn_title" type="text" class="form-control" placeholder="" />
            </div>
            <div class="form-group">
              <label>Button Description</label>
              <input id="id_btn_description" name="btn_description" type="text" class="form-control" placeholder="" />
            </div>
            <div id="create_button_form_error"> </div>
            <button class="btn btn-primary " type="submit">Add Button</button>
            <button class="btn btn-secondary" type="button" data-dismiss="modal"
              id='create_button_close_modal'>Close</button>

          </form>


        </div>

      </div>
    </div>
  </div>

  <div class="modal fade" id="AddApiKeyModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Add Button</h5>

          <button class="close" type="button" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">x</span>
          </button>
        </div>

        <div class="modal-body">
          <form method="POST" id='create_machine'>

            <div class="form-group">
              <label>Device Name</label>
              <input id="id_btn_action" name="machine_name" type="text" class="form-control" placeholder="" />
            </div>

            <div id="create_machine_form_error"> </div>
            <button class="btn btn-primary " type="submit">Add Device and create API Key</button>
            <button class="btn btn-secondary" type="button" data-dismiss="modal"
              id='create_machine_close_modal'>Close</button>

          </form>


        </div>

      </div>
    </div>
  </div>

  <!--Add Card Modal-->

  <div class="modal fade" id="AddCardModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">

        <div class="modal-header">
          <h5 class="modal-title">Add Card</h5>

          <button class="close" type="button" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">x</span>
          </button>
        </div>

        <div class="modal-body">
          <form method="POST" id='create_card'>

            <div class="form-group">
              <label>Card Name</label>
              <input id="id_card_name" name="card_name" type="text" class="form-control" placeholder="" />
            </div>
            <div class="form-group">
              <label>Card Description</label>
              <input id="id_card_description" name="card_description" type="text" class="form-control" placeholder="" />
            </div>

            <div id="create_card_form_error"> </div>

            <button class="btn btn-primary " type="submit">Add Card</button>
            <button class="btn btn-secondary" type="button" data-dismiss="modal"
              id='create_card_close_modal'>Close</button>

          </form>


        </div>

      </div>
    </div>
  </div>

  <!-- Add Graph Modal -->

  <div class="modal fade" id="AddGraphModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Add Graph</h5>

          <button class="close" type="button" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">x</span>
          </button>
        </div>

        <div class="modal-body">
          <form method="POST" id='create_graph'>

            <div class="form-group">
              <label>Graph Name</label>
              <input id="id_graph_name" name="graph_name" type="text" class="form-control" placeholder="" />
            </div>
            <div class="form-group">
              <label>Graph Type</label>
              <select name="graph_type" id="id_graph_type" class="form-control">

                <option value="LN" selected>Line Plot</option>

                <--<option value="AR">Area Chart</option>-->

                  <--<option value="BR">Bar Plot</option>-->

                    <--<option value="RD">Radar Plot</option>-->

                      <--<option value="PI">Pie Plot</option>-->

                        <--<option value="BL" hidden="true">Bubble Plot</option>-->

                          <--<option value="ST" hidden="true">Scatter Plot</option>-->
              </select>
            </div>
            <div class="form-group">
              <label>First Data Serie</label>
              <input id="id_irst_data_serie" name="first_data_serie" type="text" class="form-control" placeholder="" />
            </div>

            <div class="form-group">
              <label>Second Data Serie</label>
              <input id="id_second_data_serie" name="second_data_serie" type="text" class="form-control"
                placeholder="" />
            </div>

            <div class="form-group">
              <label>Graph Line Color <span id="color_circle" title="Default Color" class="dot"></span></label>
              <input id="id_graph_color" name="graph_color" type="text" class="form-control" placeholder=""
                value="#f0a860" oninput="LiveColorChange('id_graph_color','color_circle')" />

              <style type="text/css">
                .dot {
                  height: 14px;
                  width: 14px;
                  background-color: #f0a860;
                  border-radius: 50%;
                  display: inline-block;

                }
              </style>
            </div>
            <div id="create_graph_form_error"> </div>
            <button class="btn btn-primary " type="submit">Add Graph</button>
            <button class="btn btn-secondary" type="button" data-dismiss="modal"
              id='create_graph_close_modal'>Close</button>

          </form>


        </div>

      </div>
      
    </div>
    
  </div>


  <script>
    const auth_token = getCookie('auth_token');
    if (auth_token == null || auth_token == 'undefined') {
      window.location.href = 'HTTP://' + window.location.host + '/login'
    }

    if (window.location.href.includes("?id=")) {
      const dashboardID = window.location.href.match(/id=(?<id>\d+)/).groups["id"];
    } else {
      get_dshbd()
    }

    const buttonForm = document.getElementById("create_button")
    buttonForm.addEventListener("submit", CreateElement)
    const graphForm = document.getElementById("create_graph")
    graphForm.addEventListener("submit", CreateElement)
    const cardForm = document.getElementById("create_card")
    cardForm.addEventListener("submit", CreateElement)
    const dashboardForm = document.getElementById("create_dashboard")
    dashboardForm.addEventListener("submit", CreateElement)
    const machineForm = document.getElementById("create_machine")
    machineForm.addEventListener("submit", CreateElement)


    function get_dshbd() {
      const xhr = new XMLHttpRequest()
      xhr.responseType = "json"
      var url = window.location.protocol + '//' + window.location.host + ':8000/api/1/dashboards/'
      console.log(url)
      xhr.open('GET', url)
      xhr.setRequestHeader('Authorization', 'Token ' + auth_token)

      xhr.onload = function () {
        var db_id = xhr.response[0]['id'];
        window.location.href = 'HTTP://' + window.location.host + '/dashboard?id=' + db_id;
      }
      xhr.send()
    }


    var chart_list = []
    var card_list = []


    function getData() {
      const xhr = new XMLHttpRequest()
      xhr.responseType = "json"
      var url = window.location.protocol + '//' + window.location.host + ':8000/api/1/dashboards/'
      xhr.open('GET', url)
      xhr.setRequestHeader('Authorization', 'Token ' + auth_token)


      xhr.onload = function () {
        var response = xhr.response;
        const elem = document.getElementById('dashboard-nav');

        response.forEach(data => {
          var newLink = document.createElement("li");
          var dashboard_url = window.location.protocol + '//' + window.location.host + '/dashboard?id=' + data['id']

          newLink.className = "nav-item"
          newLink.innerHTML = `<a class="nav-link" href="${dashboard_url}"><i class="fas fa-fw fa-tachometer-alt"></i><span>${data['dshbd_name']}</span></a>`
          elem.append(newLink)
          var dashboardID = window.location.href.match(/id=(?<id>\d+)/).groups["id"];
          if (data['id'] == dashboardID) {

            newLink.className = "nav-item active"


            var btnElem = document.getElementById('btn-group');
            var btnArray = data["button"]
            btnArray.forEach(btnData => {
              var newBtn = document.createElement("button");
              newBtn.className = "btn btn-primary btn-lg m-1"
              newBtn.innerHTML = btnData["btn_title"]
              btnElem.append(newBtn);
            })


            var cardElem = document.getElementById('cards-row');
            var cardArray = data["card"]
            cardArray.forEach(cardData => {
              cardElem.append(CreateCard(cardData))
              newCard = cardElem.querySelector("#" + cardData['card_name'])
              get_last_data(dashboardID, cardData['card_name'], newCard)
              json = {
                'card': newCard,
                'card_name': cardData['card_name']
              }
              card_list.push(json)

            });


            var machineElem = document.getElementById("keys-table-row");
            var machineArray = data["machine"]
            machineArray.forEach(machineData => {
              row = document.createElement("tr")
              row.innerHTML = `<td>${machineData["machine_name"]}</td> <td></td>`
              machineElem.appendChild(row)

            })

            var GraphElem = document.getElementById('graph-row');
            var graphArray = data["graph"]
            graphArray.forEach(response => {
              var newGraph = createGraphCard(response)
              GraphElem.appendChild(newGraph)
              var canva = 'graph_' + response['id']


              if (response['graph_type'] == 'LN') {
                var chart = AreaChart(response.data, canva, response.graph_color)
              } else if (response['graph_type'] == 'PI') {
                var chart = PieChart(response, canva)
              } else if (response['graph_type'] == 'BR') {
                var chart = BarChart(response['data'], canva, response['graph_color'])
              } else if (response['graph_type'] == 'RD') {
                var chart = RadarChart(response['data'], canva, response['graph_color'])
              } else {

              }

              fetch_data(dashboardID, response['first_data_serie'], chart)

              json = {
                'graph': chart,
                'first_data_serie': response.first_data_serie,
                'second_data_serie': response.second_data_serie,
                'graph_type': response.graph_type,
                'canva_name': canva,
              }

              chart_list.push(json)
            })

            var dashboard_title = document.getElementById("dashboard_name")
            dashboard_title.innerHTML = data["dshbd_name"]


          }


        });

      }
      xhr.send()
    }


    function fetch_data(dashboardid, metric_name, chart) {
      const xhr = new XMLHttpRequest()
      xhr.responseType = "json"
      var url = window.location.protocol + '//' + window.location.host + `:8000/api/1/data/?last=False&dashboard=${dashboardid}&metric=${metric_name}`
      xhr.open('GET', url)
      xhr.setRequestHeader('Authorization', 'Token ' + auth_token)


      xhr.onload = function () {
        var response = xhr.response;
        var valueArray = []
        var labelArray = []
        response.forEach(dataRecord => {
          valueArray.push(dataRecord["metric_value"])
          labelArray.push(dataRecord["metric_date"])
        })


        chart.data.labels = labelArray
        chart.data.datasets.forEach((dataset) => { dataset.data = valueArray; });
        chart.update();
      }

      xhr.send()

    }

    function get_last_data(dashboardid, metric_name, cardElem) {
      const xhr = new XMLHttpRequest()
      xhr.responseType = "json"
      var url = window.location.protocol + '//' + window.location.host + `:8000/api/1/data/?last=True&dashboard=${dashboardid}&metric=${metric_name}`
      xhr.open('GET', url)
      xhr.setRequestHeader('Authorization', 'Token ' + auth_token)


      xhr.onload = function () {
        var response = xhr.response;
        const value = response["metric_value"]
        if (!Number.isInteger(value)) {
          cardElem.innerHTML = parseFloat(value).toFixed(3);
        } else {
          cardElem.innerHTML = value
        }

      }

      xhr.send()


    }

    getData();


    const dashboardID = window.location.href.match(/id=(?<id>\d+)/).groups["id"]
    const chatSocket = new WebSocket('ws://' + window.location.host + ':8000/ws/dashboard/' + dashboardID + `/?token=${auth_token}`);

    chatSocket.onmessage = function (e) {

      const data = JSON.parse(e.data);
      AddData(data["metric_date"], data["metric_value"], data["metric_name"])


    };

    chatSocket.onclose = function (e) {
      console.error('Chat socket closed unexpectedly');
    };




    function AddData(label, val, card_name) {

      for (var i = 0; i < chart_list.length; i++) {

        if (chart_list[i]['first_data_serie'] == card_name && chart_list[i]['graph_type'] == 'LN') {
          chart_list[i]['graph'].data.labels.push(label)
          chart_list[i]['graph'].data.datasets.forEach((dataset) => { dataset.data.push(val); });
          chart_list[i]['graph'].update();

        } else if (chart_list[i]['first_data_serie'] == card_name && chart_list[i]['graph_type'] == 'BR') {

          let myIndex = chart_list[i]['graph'].data.labels.indexOf(val)
          chart_list[i]['graph'].data.datasets.forEach((dataset) => { dataset.data[myIndex] += 1; });
          chart_list[i]['graph'].update();

        } else if (chart_list[i]['first_data_serie'] == card_name && chart_list[i]['graph_type'] == 'RD') {

          let myIndex = chart_list[i]['graph'].data.labels.indexOf(val)
          chart_list[i]['graph'].data.datasets.forEach((dataset) => { dataset.data[myIndex] += 1; });
          chart_list[i]['graph'].update();

        }

      }

      for (var i = 0; i < card_list.length; i++) {

        if (card_list[i]['card_name'] == card_name) {
          if (!Number.isInteger(val)) {
            card_list[i]['card'].innerHTML = parseFloat(val).toFixed(3);
          } else {
            card_list[i]['card'].innerHTML = val
          }

        }
      }



    }

    function CreateElement(event) {

      element_dict = {
        'create_graph': 'graphs',
        'create_button': 'buttons',
        'create_card': 'cards',
        'create_dashboard': 'dashboards',
        'create_machine': 'machines'
      }

      event.preventDefault()
      const myForm = event.target
      const myFormData = new FormData(myForm)
      if (event.srcElement.id != 'create_dashboard') {
        myFormData.append('linked_dshbd', dashboardID);
      }

      console.log(myFormData)
      var xhr = new XMLHttpRequest();
      xhr.open('POST', window.location.protocol + '//' + window.location.host + `:8000/api/1/${element_dict[event.srcElement.id]}/`);
      xhr.setRequestHeader('Authorization', 'Token ' + auth_token)
      xhr.onload = function () {

        if (xhr.status !== 201) {


          document.getElementById(event.srcElement.id + '_form_error').innerHTML =
            '<div class="mt-2 mb-2  font-weight-bold rounded" >'
            + xhr.response
            + '</div>'

        } else if (event.srcElement.id != 'create_machine') {

          document.getElementById(event.srcElement.id + '_close_modal').click()
        } else {
          document.getElementById(event.srcElement.id + '_form_error').innerHTML = `<div class="alert alert-info" role="alert">Key : ${xhr.response}</div>`
        }

      }
      xhr.send(myFormData);

    }

    function DeleteElement(type, id) {
      console.log(type, id)
      var xhr = new XMLHttpRequest();
      xhr.open('DELETE', window.location.protocol + '//' + window.location.host + ':8000/api/1/' + type + '/' + id + '/');
      xhr.setRequestHeader('Authorization', 'Token ' + auth_token)
      xhr.onload = function () {


      }
      xhr.send();
    }

    


  </script>


</body>


<style type="text/css">
  .navbar-center {
    position: absolute;
    width: 100%;
    left: 0;
    top: 0;
    text-align: center;
    overflow: visible;
    height: 0;
  }
</style>

</html>